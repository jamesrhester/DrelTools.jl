<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · dREL Tools documentation</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">dREL Tools documentation</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Overview</a></li><li><a class="tocitem" href="../guide/">Guide</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Methods"><span>Methods</span></a></li><li><a class="tocitem" href="#For-developers"><span>For developers</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jamesrhester/DrelTools.jl/blob/master/docs/src/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="dRELTools-API"><a class="docs-heading-anchor" href="#dRELTools-API">dRELTools API</a><a id="dRELTools-API-1"></a><a class="docs-heading-anchor-permalink" href="#dRELTools-API" title="Permalink"></a></h1><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DrelTools.DynamicDDLmRC" href="#DrelTools.DynamicDDLmRC"><code>DrelTools.DynamicDDLmRC</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">DynamicDDLmRC(ds, dict::AbstractCifDictionary)</code></pre><p>Create a <code>DynamicDDLmRC</code> object from <code>ds</code> with relational structure defined by <code>dict</code>. If <code>dict</code> includes dREL methods describing mathematical relationships between data names, use these to derive and cache missing values.</p><p><code>ds</code> should provide the <code>DataSource</code> trait.</p><p>A <code>DynamicDDLmRC</code> is itself a <code>DataSource</code>.</p></div></section></article><h2 id="Methods"><a class="docs-heading-anchor" href="#Methods">Methods</a><a id="Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Methods" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DrelTools.define_dict_funcs!-Tuple{Any}" href="#DrelTools.define_dict_funcs!-Tuple{Any}"><code>DrelTools.define_dict_funcs!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">define_dict_funcs!(dict)</code></pre><p>Find and transform to Julia all dREL functions defined in <code>dict</code>. This must be called in order for these functions to be available to dREL methods defined in <code>dict</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="DrelTools.empty_cache!-Tuple{DynamicDDLmRC}" href="#DrelTools.empty_cache!-Tuple{DynamicDDLmRC}"><code>DrelTools.empty_cache!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">empty_cache!(d)</code></pre><p>Remove all cached data name values computed for <code>d</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.keys-Tuple{DynamicDDLmRC}" href="#Base.keys-Tuple{DynamicDDLmRC}"><code>Base.keys</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">keys(d::DynamicDDLmRC)</code></pre><p>Return all data names that have associated values in <code>d</code>. If multiple namespaces are present, some data names may be duplicated. If calculations have been performed to derive data name values, those data names will be included.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.haskey-Tuple{DynamicDDLmRC,Any}" href="#Base.haskey-Tuple{DynamicDDLmRC,Any}"><code>Base.haskey</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">haskey(d::DynamicDDLmRC,s)</code></pre><p><code>true</code> if any instance found of <code>s</code> in <code>d</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.haskey-Tuple{DynamicDDLmRC,Any,Any}" href="#Base.haskey-Tuple{DynamicDDLmRC,Any,Any}"><code>Base.haskey</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">haskey(d::DynamicDDLmRC,s,n)</code></pre><p><code>true</code> if any instance found of <code>s</code> from namespace <code>n</code> in <code>d</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.getindex-Tuple{DynamicDDLmRC,Any}" href="#Base.getindex-Tuple{DynamicDDLmRC,Any}"><code>Base.getindex</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">getindex(d::DynamicDDLmRC,s)</code></pre><p><code>d[s]</code> returns all values for that data name in the same order as the key values, so that they may be interpreted as a column of values in correct order, deriving missing values from dREL methods if available.</p><p>If <code>s</code> appears in multiple namespaces within <code>d</code>, an error is raised.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.getindex-Tuple{DynamicDDLmRC,Any,Any}" href="#Base.getindex-Tuple{DynamicDDLmRC,Any,Any}"><code>Base.getindex</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">getindex(d::DynamicDDLmRC,s,nspace)</code></pre><p><code>d[s,nspace]</code> returns the values of dataname <code>s</code> from namespace <code>nspace</code> in <code>d</code>, with derivation of missing values. Values are returned in an order corresponding to the order in which key data name values are provided, meaning that the returned values can be assembled into a table without further manipulation.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.setindex!-Tuple{DynamicDDLmRC,Any,Any}" href="#Base.setindex!-Tuple{DynamicDDLmRC,Any,Any}"><code>Base.setindex!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">setindex!(d::DynamicDDLmRC,v,s)</code></pre><p>Set the value of <code>s</code> in <code>d</code> to <code>v</code>. The underlying data source is not changed, instead values are set in the cache and will be deleted by <code>empty_cache!</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.setindex!-Tuple{DynamicDDLmRC,Any,Any,Any}" href="#Base.setindex!-Tuple{DynamicDDLmRC,Any,Any,Any}"><code>Base.setindex!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">setindex!(d::DynamicDDLmRC,v,s,nspace)</code></pre><p>Set the value of <code>s</code> from namespace <code>nspace</code> in <code>d</code> to <code>v</code>.  The underlying data source is not changed, instead values are set in the cache and will be deleted by <code>empty_cache!</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="CrystalInfoFramework.DataContainer.get_category-Tuple{DynamicDDLmRC,AbstractString,String}" href="#CrystalInfoFramework.DataContainer.get_category-Tuple{DynamicDDLmRC,AbstractString,String}"><code>CrystalInfoFramework.DataContainer.get_category</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_category(d::DynamicDDLmRC,s::AbstractString,nspace::String)</code></pre><p>Return a <code>CifCategory</code> named <code>s</code> in namespace <code>nspace</code> from <code>d</code>, creating the category using dREL category methods if missing. If <code>s</code> is already present, no further data names from that category are derived.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="CrystalInfoFramework.DataContainer.get_category-Tuple{DynamicDDLmRC,Any}" href="#CrystalInfoFramework.DataContainer.get_category-Tuple{DynamicDDLmRC,Any}"><code>CrystalInfoFramework.DataContainer.get_category</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_category(d::DynamicDDLmRC,s)</code></pre><p>Return a <code>CifCategory</code> named <code>s</code> from <code>d</code>, creating the category using dREL category methods if missing. If <code>s</code> is already present, no further data names from that category are derived. If <code>s</code> is ambiguous because it is  present in multiple namespaces, an error is raised.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="DrelTools.derive-Tuple{DynamicRelationalContainer,AbstractString,Any}" href="#DrelTools.derive-Tuple{DynamicRelationalContainer,AbstractString,Any}"><code>DrelTools.derive</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">derive(b::DynamicRelationalContainer,dataname,nspace)</code></pre><p>Derive values for <code>dataname</code> in <code>nspace</code> missing from <code>b</code>. Return <code>missing</code> if the category itself is missing, otherwise return an Array potentially containing missing values with one value for each row in the category.</p></div></section></article><h2 id="For-developers"><a class="docs-heading-anchor" href="#For-developers">For developers</a><a id="For-developers-1"></a><a class="docs-heading-anchor-permalink" href="#For-developers" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DrelTools.make_julia_code-Tuple{Any,Any,Any}" href="#DrelTools.make_julia_code-Tuple{Any,Any,Any}"><code>DrelTools.make_julia_code</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">make_julia_code(drel_text,dataname,dict; reserved=[])</code></pre><p>Define a Julia method from dREL code contained in <code>drel_text</code> which calculates the value of <code>dataname</code> defined in <code>dict</code>. All category names in <code>dict</code> and any additional names in <code>reserved</code> are recognised as categories.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="DrelTools.add_definition_func!-Tuple{Any,Any}" href="#DrelTools.add_definition_func!-Tuple{Any,Any}"><code>DrelTools.add_definition_func!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">add_definition_func!(dictionary,dataname)</code></pre><p>Add a method that adjusts the definition of dataname by defining a DDLm attribute.</p></div></section></article><h3 id="Drel-runtime-functions"><a class="docs-heading-anchor" href="#Drel-runtime-functions">Drel runtime functions</a><a id="Drel-runtime-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Drel-runtime-functions" title="Permalink"></a></h3><p>The following methods are defined to be used within Julia code generated from dREL in order to support dREl semantics and recursive calculation.</p><article class="docstring"><header><a class="docstring-binding" id="DrelTools.drelvector" href="#DrelTools.drelvector"><code>DrelTools.drelvector</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A <code>drelvector</code> is a vector which adopts the correct dimension (column or row) to allow pre or post multiplication without explicit transposition. </p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="DrelTools.DrelTable" href="#DrelTools.DrelTable"><code>DrelTools.DrelTable</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A <code>DrelTable</code> is almost like a Julia <code>Dict</code>, but it must allow <code>CaselessString</code> comparisons with <code>String</code>, and the types of the keys are restricted.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="DrelTools.drel_property_access-Tuple{Any,Any,DynamicRelationalContainer}" href="#DrelTools.drel_property_access-Tuple{Any,Any,DynamicRelationalContainer}"><code>DrelTools.drel_property_access</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">drel_property_access(cp,obj,datablock)</code></pre><p>This call corresponds to <code>cp.obj</code> in dREL code. If <code>obj</code> is not a property of <code>cp</code>, <code>datablock</code> is used to try to derive a value, returning <code>missing</code> for all failures and caching the result in <code>datablock</code> if successful.</p></div></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../guide/">« Guide</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 22 December 2020 10:03">Tuesday 22 December 2020</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
